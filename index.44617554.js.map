{"mappings":"AAKA,MAEMA,EAAO,CACTC,MAAOC,SAASC,cAAc,eAC9BC,KAAMF,SAASC,cAAc,iBAC7BE,KAAMH,SAASC,cAAc,kBAkEjC,SAASG,IACLN,EAAKI,KAAKG,UAAY,GACtBP,EAAKK,KAAKE,UAAY,E,CAG1B,SAASC,IACLF,IACAG,OAAOC,QAAQ,2C,CArEnBV,EAAKC,MAAMU,QACXX,EAAKC,MAAMW,iBAAiB,QAASC,UAErC,SAAkBC,GACd,MAAMC,EAAOD,EAAEE,OAAOC,MAAMC,OAC5B,GAAa,KAATH,EAEA,YADAT,IAGJa,eAAeJ,GAAMK,MAAKC,GAEA,IAArBA,EAAUC,QACZhB,SAyBP,SAA2Be,GACvB,MAAME,EAAYC,OAAOC,OAAOJ,EAAU,GAAGE,WAAWG,KAAK,MAEvDC,EAAaN,EAAUO,KAAIC,GAC/B,iDACcA,EAAQC,MAAMC,0DACpBF,EAAQd,KAAKiB,iJAITH,EAAQI,wHAIRJ,EAAQK,0HAIRX,yCAIdvB,EAAKK,KAAK8B,mBAAmB,YAAaR,E,CA9CvCS,CAAkBf,IAETA,EAAUC,OAAS,GAAKD,EAAUC,QAAU,IACrDhB,SAWP,SAA6Be,GACzB,MAAMgB,EAAahB,EAAUO,KAAIC,GAC/B,gDACcA,EAAQC,MAAMC,yDACrBF,EAAQd,KAAKiB,8BACZN,KAAK,KAEjB1B,EAAKI,KAAK+B,mBAAmB,YAAaE,E,CAjBrCC,CAAoBjB,IAEXA,EAAUC,OAAS,IAC5BhB,SACAG,OAAOJ,KAAK,oEAFP,IAKNkC,MAAM/B,E,GAjCW","sources":["src/index.js"],"sourcesContent":["// import './css/styles.css';\n// import { fetchCountries } from './fetchCountries';\n// import debounce from 'lodash.debounce';\n// import { Notify } from 'notiflix';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst refs = {\n    input: document.querySelector('#search-box'),\n    list: document.querySelector('.country-list'),\n    info: document.querySelector('.country-info'),\n}\n\n// let name = \"\";\nrefs.input.focus();\nrefs.input.addEventListener(\"input\", debounce(onSearch, DEBOUNCE_DELAY));\n\nfunction onSearch(e) {\n    const name = e.target.value.trim();\n    if (name === \"\") {\n        clearMarkup();\n        return;\n    }\n    fetchCountries(name).then(countries => {\n    // console.log(countries);\n     if (countries.length === 1) {\n       clearMarkup();\n       createCountryInfo(countries);\n       return;\n     } else if (countries.length > 1 && countries.length <= 10) {\n       clearMarkup();\n       createCountriesList(countries);\n       return;\n     } else if (countries.length > 10) {\n       clearMarkup();\n       Notify.info('Too many matches found. Please enter a more specific name.');\n       return;\n     }\n   }).catch(onError);\n}\n\nfunction createCountriesList(countries) {\n    const markupList = countries.map(country => \n      `<li class=\"country-item\">\n        <img src=\"${country.flags.svg}\" alt=\"flag\" width='20' height ='15'/>\n        <p>${country.name.official}</p>\n      </li>`).join(\" \");\n    \n  refs.list.insertAdjacentHTML(\"beforeend\", markupList);\n}\n\nfunction createCountryInfo(countries) {\n    const languages = Object.values(countries[0].languages).join(', ');\n\n    const markupInfo = countries.map(country => \n      `<div class=\"country-item\">\n        <img src=\"${country.flags.svg}\" alt=\"flag\" width='20' height ='15'/>\n        <h1>${country.name.official}</h1></div>\n      <ul class=\"country-info-list\">\n        <li class=\"country-info_item\">\n          <b>Capital:</b \n          <span>${country.capital}</span>\n        </li>\n        <li class=\"country-info_item\">\n          <b>Population:</b \n          <span>${country.population}</span>\n        </li>\n        <li class=\"country-info_item\">\n          <b>Languages:</b \n          <span>${languages}</span>\n        </li>\n      </ul>`);\n    \n    refs.info.insertAdjacentHTML(\"beforeend\", markupInfo);\n}\n\nfunction clearMarkup() {\n    refs.list.innerHTML = \"\";\n    refs.info.innerHTML = \"\";\n}\n\nfunction onError() {\n    clearMarkup();\n    Notify.failure(\"Oops, there is no country with that name\");\n}\n"],"names":["$1f0dc3b9307be026$var$refs","input","document","querySelector","list","info","$1f0dc3b9307be026$var$clearMarkup","innerHTML","$1f0dc3b9307be026$var$onError","Notify","failure","focus","addEventListener","debounce","e","name","target","value","trim","fetchCountries","then","countries","length","languages","Object","values","join","markupInfo","map","country","flags","svg","official","capital","population","insertAdjacentHTML","$1f0dc3b9307be026$var$createCountryInfo","markupList","$1f0dc3b9307be026$var$createCountriesList","catch"],"version":3,"file":"index.44617554.js.map"}