{"mappings":"YAKA,IAEMA,EAAO,CACTC,MAAOC,SAASC,cAAc,eAC9BC,KAAMF,SAASC,cAAc,iBAC7BE,KAAMH,SAASC,cAAc,kBAkEjC,SAASG,IACLN,EAAKI,KAAKG,UAAY,GACtBP,EAAKK,KAAKE,UAAY,E,CAG1B,SAASC,IACLF,IACAG,OAAOC,QAAQ,2C,CArEnBV,EAAKC,MAAMU,QACXX,EAAKC,MAAMW,iBAAiB,QAASC,UAErC,SAAkBC,GACd,IAAMC,EAAOD,EAAEE,OAAOC,MAAMC,OAC5B,GAAa,KAATH,EAEA,YADAT,IAGJa,eAAeJ,GAAMK,MAAK,SAAAC,GAEzB,OAAyB,IAArBA,EAAUC,QACZhB,SAyBP,SAA2Be,GACvB,IAAME,EAAYC,OAAOC,OAAOJ,EAAU,GAAGE,WAAWG,KAAK,MAEvDC,EAAaN,EAAUO,KAAI,SAAAC,G,MAC/B,iDAEQC,OADMD,EAAQE,MAAMC,IAAI,2DAKpBF,OAJJD,EAAQd,KAAKkB,SAAS,0IAQlBH,OAJAD,EAAQK,QAAQ,kHAQhBJ,OAJAD,EAAQM,WAAW,iHAITL,OAAVP,EAAU,sC,IAIxBvB,EAAKK,KAAK+B,mBAAmB,YAAaT,E,CA9CvCU,CAAkBhB,IAETA,EAAUC,OAAS,GAAKD,EAAUC,QAAU,IACrDhB,SAWP,SAA6Be,GACzB,IAAMiB,EAAajB,EAAUO,KAAI,SAAAC,G,MAC/B,gDAEOC,OADOD,EAAQE,MAAMC,IAAI,0DACHF,OAAtBD,EAAQd,KAAKkB,SAAS,oB,IACrBP,KAAK,KAEjB1B,EAAKI,KAAKgC,mBAAmB,YAAaE,E,CAjBrCC,CAAoBlB,IAEXA,EAAUC,OAAS,IAC5BhB,SACAG,OAAOJ,KAAK,oEAFP,C,IAKNmC,MAAMhC,E,GAjCW,K","sources":["src/index.js"],"sourcesContent":["// import './css/styles.css';\n// import { fetchCountries } from './fetchCountries';\n// import debounce from 'lodash.debounce';\n// import { Notify } from 'notiflix';\n\nconst DEBOUNCE_DELAY = 300;\n\nconst refs = {\n    input: document.querySelector('#search-box'),\n    list: document.querySelector('.country-list'),\n    info: document.querySelector('.country-info'),\n}\n\n// let name = \"\";\nrefs.input.focus();\nrefs.input.addEventListener(\"input\", debounce(onSearch, DEBOUNCE_DELAY));\n\nfunction onSearch(e) {\n    const name = e.target.value.trim();\n    if (name === \"\") {\n        clearMarkup();\n        return;\n    }\n    fetchCountries(name).then(countries => {\n    // console.log(countries);\n     if (countries.length === 1) {\n       clearMarkup();\n       createCountryInfo(countries);\n       return;\n     } else if (countries.length > 1 && countries.length <= 10) {\n       clearMarkup();\n       createCountriesList(countries);\n       return;\n     } else if (countries.length > 10) {\n       clearMarkup();\n       Notify.info('Too many matches found. Please enter a more specific name.');\n       return;\n     }\n   }).catch(onError);\n}\n\nfunction createCountriesList(countries) {\n    const markupList = countries.map(country => \n      `<li class=\"country-item\">\n        <img src=\"${country.flags.svg}\" alt=\"flag\" width='20' height ='15'/>\n        <p>${country.name.official}</p>\n      </li>`).join(\" \");\n    \n  refs.list.insertAdjacentHTML(\"beforeend\", markupList);\n}\n\nfunction createCountryInfo(countries) {\n    const languages = Object.values(countries[0].languages).join(', ');\n\n    const markupInfo = countries.map(country => \n      `<div class=\"country-item\">\n        <img src=\"${country.flags.svg}\" alt=\"flag\" width='20' height ='15'/>\n        <h1>${country.name.official}</h1></div>\n      <ul class=\"country-info-list\">\n        <li class=\"country-info_item\">\n          <b>Capital:</b \n          <span>${country.capital}</span>\n        </li>\n        <li class=\"country-info_item\">\n          <b>Population:</b \n          <span>${country.population}</span>\n        </li>\n        <li class=\"country-info_item\">\n          <b>Languages:</b \n          <span>${languages}</span>\n        </li>\n      </ul>`);\n    \n    refs.info.insertAdjacentHTML(\"beforeend\", markupInfo);\n}\n\nfunction clearMarkup() {\n    refs.list.innerHTML = \"\";\n    refs.info.innerHTML = \"\";\n}\n\nfunction onError() {\n    clearMarkup();\n    Notify.failure(\"Oops, there is no country with that name\");\n}\n"],"names":["$b8f9b7833fa37166$var$refs","input","document","querySelector","list","info","$b8f9b7833fa37166$var$clearMarkup","innerHTML","$b8f9b7833fa37166$var$onError","Notify","failure","focus","addEventListener","debounce","e","name","target","value","trim","fetchCountries","then","countries","length","languages","Object","values","join","markupInfo","map","country","concat","flags","svg","official","capital","population","insertAdjacentHTML","$b8f9b7833fa37166$var$createCountryInfo","markupList","$b8f9b7833fa37166$var$createCountriesList","catch"],"version":3,"file":"index.5a8abe90.js.map"}